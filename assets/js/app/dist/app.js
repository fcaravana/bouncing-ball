app={animation:null},$(document).click(function(){null!==app.animation&&(app.animation.stopAnimation(),delete app.animation,app.animation=null),app.animation=new app.ball,app.animation.startAnimation()}),$(window).resize(function(){null!==app.animation&&app.animation.resizeCanvas()}),app.ball=function(){var n=$("canvas"),t=n[0].getContext("2d"),i=.1,a=.8,o=15,e="#9a0505",l=1,r=1,s=8,c=8,p=0,u=0,d=null;return _startAnimation=function(){_resizeCanvas(),_setInitialVelocity(),_setInitialPosition(),d=setInterval(_updatePosition,1e3/60)},_stopAnimation=function(){clearInterval(d)},_resizeCanvas=function(){n.attr("width",$(window).innerWidth()),n.attr("height",$(window).innerHeight())},_setInitialVelocity=function(){c=_randomIntFromInterval(8,36),s=c},_setInitialPosition=function(){l=_randomIntFromInterval(o,$(window).width()-o),r=o},_updatePosition=function(){return u>60?(_stopAnimation(),!1):(p+=i,l+=c,r+=p,Math.floor(r)===n.height()-o&&u++,r>n.height()-o&&(r=n.height()-o,p*=-a,_reduceVelocity()),o>l&&(l=o,c=s,_reduceVelocity()),l>n.width()-o&&(l=n.width()-o,_reduceVelocity(),c=-c),void _drawBall())},_drawBall=function(){t.clearRect(0,0,$("canvas").width(),$("canvas").height()),t.fillStyle=e,t.beginPath(),t.arc(l,r,o,0,2*Math.PI,!0),t.closePath(),t.fill()},_reduceVelocity=function(){c>0&&(c=parseInt(c/1.5),s=c)},_randomIntFromInterval=function(n,t){return Math.floor(Math.random()*(t-n+1)+n)},{startAnimation:_startAnimation,stopAnimation:_stopAnimation,resizeCanvas:_resizeCanvas}};